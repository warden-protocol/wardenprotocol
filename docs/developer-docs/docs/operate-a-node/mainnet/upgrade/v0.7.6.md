---
sidebar_position: 4
---

# v0.7.6

## Overview

This guide provides steps for upgrading to the [Warden v0.7.6](https://github.com/warden-protocol/wardenprotocol/releases/tag/v0.7.6) release.

The network upgrade will take place on **January 15, 2026**. The Warden team is going to take the snapshot, export the state, and revert it back if needed.

If you have any outstanding questions, [join our Discord](https://discord.com/invite/wardenprotocol).

:::warning
The upgrade procedure carries heightened risks of double-signing and being slashed. To handle these risks and securely address any issues that may arise during the upgrade, [back up](#1-verify--back-up) your data prior to the upgrade. During the upgrade, follow our tips listed in [Security and troubleshooting](#security--troubleshooting).
:::

## 1. Verify & back up

Before starting your validator and signing, do the following:

- Verify your software version and the genesis file hash.
- Back up your **private node keys**.
- Take a **full data snapshot**.

The method for taking a snapshot depends on your infrastructure, but generally, you can achieve this by backing up the **wardend** directory. If you're [using Cosmovisor](#option-1-use-cosmovisor) to upgrade, it'll back up your data by default.

:::warning
After stopping the `wardend` process, it's critically important to back up the `.wardend/data/priv_validator_state.json` file.
:::

:::note
The **priv_validator_state.json** file is updated every block as your validator participates in consensus rounds. In case the upgrade fails, and you have to restart the previous chain, you'll need this file to avoid double signing. See [Handling node restarts](#handling-node-restarts).
:::

## 2. Upgrade

### Option 1: Use Cosmovisor

To upgrade using [Cosmovisor](https://pkg.go.dev/cosmossdk.io/tools/cosmovisor), take these steps:

1. Download the [wardend binary v0.7.6](https://github.com/warden-protocol/wardenprotocol/releases/tag/v0.7.6) and put it to `$WARDEN_HOME/cosmovisor/upgrades/v0.7.4/bin`:

   ```shell
   mkdir -p  $WARDEN_HOME/cosmovisor/upgrades/v0.7.4/bin
   cp $(which wardend) $WARDEN_HOME/cosmovisor/upgrades/v0.7.4/bin
   ```

   :::important
   Although this guide recommends running the **v0.7.6** binary, the onchain upgrade plan name is **v0.7.4**. For this reason the v0.7.6 binary must be placed in the `v0.7.4` upgrade directory.
   :::

2. Start the node:

   ```shell
   cosmovisor run start --x-crisis-skip-assert-invariants --home $DAEMON_HOME
   ```

   **Note**: We recommend skipping the invariant checks to reduce the upgrade time. Future releases of the Cosmos SDK will include additional improvements to the crisis module.

3. After reaching the upgrade block height, Warden will panic and stop.

4. The chain will continue producing blocks when validators with a total sum voting power > 2/3 complete their node upgrades and come back online.

### Option 2: Upgrade manually

1. Download the [wardend binary v0.7.6](https://github.com/warden-protocol/wardenprotocol/releases/tag/v0.7.6) or build it from the source code. See the installation instructions in the [Join Mainnet guide](../join-mainnet#1-install-the-binary).

2. Run Warden v0.7.3 until the upgrade height. The node will panic:

   ```shell
   ERR UPGRADE "v0.7.4" NEEDED at height: 3427000: upgrade to v0.7.4 and applying upgrade "v0.7.4" at height: 3427000
   ```

   :::important
   Although this guide recommends running the **v0.7.6** binary, the onchain upgrade plan name is **v0.7.4**. For this reason, the node will mention `v0.7.4` when panicking.
   :::

3. Stop the node and switch the binary to **Warden v0.7.6**. Restart the node:

   ```shell
   wardend start
   ```

4. The chain will continue producing blocks when validators with a total sum voting power > 2/3 complete their node upgrades and come back online.

## Security & troubleshooting

:::warning
The upgrade procedure carries heightened risks of double-signing and being slashed. To mitigate these risks and securely address any issues that may arise during the upgrade, [back up](#1-verify--back-up) your data prior to the upgrade. During the upgrade, follow the rules listed below.
:::

### Handling mistakes

If you discover you've made a mistake, it's not safe to repeat the upgrade procedure during the network startup. Instead, wait for the network to start and then correct the mistake.

### Handling node restarts

Your node may restart during the upgrade due to OOM being killed, hardware issues, and other reasons. In this case, it's not safe to proceed with the upgrade. Instead, follow these steps:

1. Recover your node from a [backup](#1-verify--back-up).

   When applying a snapshot from the backup, keep your `./data/priv_validator_state.json` file. This will help you avoid being slashed due to double signing.

2. Restart the upgrade process.

**Note**: If you proceed with the upgrade without recovering your node, the upgrade will likely complete successfully, but you'll get the `AppHash error` once the network is up.
