# deploy
forge create --rpc-url http://localhost:8545 --evm-version paris --private-key 0xba4ce04e9390b2011960bf2ac71977861145ff9bb90137a3f3c56bc722e972f5 prophet/handlers/http/example/HttpExample.sol:HttpExample --broadcast

# schedule the future
cast send --rpc-url http://127.0.0.1:8545 --private-key 0xba4ce04e9390b2011960bf2ac71977861145ff9bb90137a3f3c56bc722e972f5 --verbosity $CONTRACT "run()"

# query the future result
warden q async futures
# futures:
# - future:
#   ...
#   result:
#     id: "1"
#     output: AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGNbn8Bhl6QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACOH/9ujz5wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACa2uXz3JmIA==

# convert the output, base64 -> hex
echo 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGNbn8Bhl6QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACOH/9ujz5wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACa2uXz3JmIA==' | base64 -d | xxd -p -c0
# 00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000018d6e7f01865e90000000000000000000000000000000000000000000000000000002387ffdba3cf9c000000000000000000000000000000000000000000000000026b6b97cf726620

# manually invoke the callback (as warden doesn't have the callbacks implemented yet)
cast send --rpc-url http://127.0.0.1:8545 --private-key 0xba4ce04e9390b2011960bf2ac71977861145ff9bb90137a3f3c56bc722e972f5 --verbosity $CONTRACT "cb()"

# check the bitcoin price prediction
cast call --private-key 0xba4ce04e9390b2011960bf2ac71977861145ff9bb90137a3f3c56bc722e972f5 --verbosity $CONTRACT 'bitcoinPrice()(uint256)'
# 458207467600345628672 [4.582e20]